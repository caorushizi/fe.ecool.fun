---
title: 谈谈你对事件冒泡和捕获的理解
pubDatetime: 2021-09-25T16:00:00.000Z
author: caorushizi
tags:
  - javascript
postSlug: e95884735341d58a77fa479b3c647575
description: >-
  事件冒泡和事件捕获分别由微软和网景公司提出，这两个概念都是为了解决页面中事件流（事件发生顺序）的问题。```html<divid="outer"><pid="inner">Clickme!</p></
difficulty: 1
questionNumber: 206
source: >-
  https://fe.ecool.fun/topic-answer/d8fe4e1f-93ef-440b-a06b-81d22897afa2?orderBy=updateTime&order=desc&tagId=10
---

事件冒泡和事件捕获分别由微软和网景公司提出，这两个概念都是为了解决页面中事件流（事件发生顺序）的问题。

```html
<div id="outer">
  <p id="inner">Click me!</p>
</div>
```

上面的代码当中一个 div 元素当中有一个 p 子元素，如果两个元素都有一个 click 的处理函数，那么我们怎么才能知道哪一个函数会首先被触发呢？

## 事件冒泡

微软提出了名为事件冒泡(event bubbling)的事件流。事件冒泡可以形象地比喻为把一颗石头投入水中，泡泡会一直从水底冒出水面。也就是说，事件会从最内层的元素开始发生，一直向上传播，直到 document 对象。

因此在事件冒泡的概念下在 p 元素上发生 click 事件的顺序应该是 p -> div -> body -> html -> document

## 事件捕获

网景提出另一种事件流名为事件捕获(event capturing)。与事件冒泡相反，事件会从最外层开始发生，直到最具体的元素。

因此在事件捕获的概念下在 p 元素上发生 click 事件的顺序应该是 document -> html -> body -> div -> p

## addEventListener 的第三个参数

网景 和 微软 曾经的战争还是比较火热的，当时， 网景主张捕获方式，微软主张冒泡方式。后来 w3c 采用折中的方式，平息了战火，制定了统一的标准——**先捕获再冒泡**。

addEventListener 的第三个参数就是为冒泡和捕获准备的。

addEventListener 有三个参数：

```js
element.addEventListener(event, function, useCapture)
```

- 第一个参数是需要绑定的事件
- 第二个参数是触发事件后要执行的函数
- 第三个参数默认值是 false，表示在事件冒泡阶段调用事件处理函数;如果参数为 true，则表示在事件捕获阶段调用处理函数。
