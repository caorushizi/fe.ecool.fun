---
title: 如何实现一个轮播图组件？
pubDatetime: 2022-08-28T16:00:00.000Z
author: caorushizi
tags:
  - 编程题
postSlug: 2bb67b7104bd7413eaf3f7a9bf1e6195
description: >-
  1\.原理介绍--------轮播图的原理其实不是太复杂，主要可以总结为两点：*定位的运用*定时器的运用上面两点主要是轮播图实现方法中比较重要的两点，通过下面两张图，大家可以更加容易理解轮播图的原理：
difficulty: 3.5
questionNumber: 32
source: >-
  https://fe.ecool.fun/topic-answer/983ff108-fded-4272-96b6-24a0a20af286?orderBy=updateTime&order=desc&tagId=26
---

## 1\. 原理介绍

轮播图的原理其实不是太复杂，主要可以总结为两点：

- 定位的运用
- 定时器的运用

上面两点主要是轮播图实现方法中比较重要的两点，通过下面两张图，大家可以更加容易理解轮播图的原理：

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a82a113c15d34b9a83b7a0e131bf81b3~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp)

预览

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d84d7de3a6e94d8ab4e3be760f871578~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp)

预览

上面图中的 1、2、3、4...等盒子可以看作为一张张的图片，它们横向依次排列。最外层还有一个父级盒子，它的宽度刚好就是一张图片的宽度，第一张图没有设置隐藏超出部分，第二张图隐藏了超出部分。

让我们的图片位置不断变化，让它出现在可视区内，加上一些动画，就变成了我们想要的轮播图了。

## 2\. 实现的效果

知道了大概的原理，那么接下来我们一起理一下需要实现的效果：

- 图片自动轮播
- 轮播有动画效果
- 点击左右按钮可切换
- 点击数字按钮切换到对应图片
- 数字按钮有选中的效果
- 鼠标移入停止自动播放

## 3\. 具体实现方式

### 3.1 HTML 布局

从上图可以看出，HTML 布局很简单，主要分为了三部分：左右切换按钮、图片列表、底部数字切换按钮。

代码如下：

```typescript
undefined;
```

这里需要注意的一点是我们给数字切换按钮的 li 标签添加了一个自定义属性，因为后面我们在 js 中需要用到，用来判断与哪一张图片对应，方便设置选中效果。

### 3.2 CSS 样式

我们需要将图片列表排成一排，并且让最外层的盒子设置超出隐藏，其它两个部分可以定位到对应的位置，代码如下：

```typescript
undefined;
```

这个时候基本的样式就出来了，只是还不能轮播，一直显示的都是第一张图片：

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d7e2b2fa5e994930af5a9defe1f0a213~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp)

预览

到这里我们的基础布局算是实现了，但是离我们的需求还有一段距离，重点在 js 部分。

### 3.3 JS 代码

JS 逻辑代码才是实现我们整个需求的核心部分，先整体过一下代码，我们再来讲解：

```typescript
undefined;
```

js 里面主要有几个方法，这里讲解一两个大家就懂了，比如说我们需要点击按钮切换上一张或者下一张图片，主要实现方法如下：

```typescript
undefined;
```

当我们点击切换按钮式，首先清除掉上一个数字按钮的选中样式，然后判断是否是最后一张图片或者第一张图片。我们声明了一个全局变量 currentIndex 用来存储当前展示的是第几张图片。

然后通过 currentIndex 动态计算改变需要展示的图片的 left 距离。

自动播放和点击数字按钮切换图片得到原理都和这个方法类似，都是需要计算出需要展示的图片的 left。

### 3.4 核心方法

js 部分我们大概有五个主要的方法：

- prevFun()：点击切换上一张
- nextFun()：点击切换下一张
- numClick(e)：点击数字按钮
- autoPlay()：循环播放轮播
- stopAutoPlay()：关闭自动播放

## 总结

轮播图实现起来并不难，难的是有没有耐心。轮播图无非就是让一排图片中的某一张图片在合适的时间出现在合适的区域内。

当然实现轮播图的方式和方法都有很多，比如用纯 CSS 也能实现轮播图，主要看个人需求而定。
