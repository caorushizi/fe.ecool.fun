---
title: 正则表达式是什么，有哪些应用场景？
pubDatetime: 2021-07-03T16:00:00.000Z
author: caorushizi
tags:
  - javascript
postSlug: a3e392940651a73ea48804c06e61e037
description: >-
  ![](https://static.vue-js.com/55388a40-7f1d-11eb-ab90-d9ae814b240d.png)预览一、是什么-----正则表达式是一种用来匹配字符串的强
difficulty: 2
questionNumber: 320
source: >-
  https://fe.ecool.fun/topic-answer/e3f52a7b-4c54-4b00-bd6c-b63f2b60421c?orderBy=updateTime&order=desc&tagId=10
---

![](https://static.vue-js.com/55388a40-7f1d-11eb-ab90-d9ae814b240d.png)

预览

## 一、是什么

正则表达式是一种用来匹配字符串的强有力的武器

它的设计思想是用一种描述性的语言定义一个规则，凡是符合规则的字符串，我们就认为它“匹配”了，否则，该字符串就是不合法的

在 `JavaScript`中，正则表达式也是对象，构建正则表达式有两种方式：

1.  字面量创建，其由包含在斜杠之间的模式组成

```typescript
undefined;
```

2.  调用`RegExp`对象的构造函数

```typescript
undefined;
```

使用构建函数创建，第一个参数可以是一个变量，遇到特殊字符`\`需要使用`\\`进行转义

## 二、匹配规则

常见的校验规则如下：

规则

描述

\\

转义

^

匹配输入的开始

$

匹配输入的结束

\*

匹配前一个表达式 0 次或多次

-

匹配前面一个表达式 1 次或者多次。等价于 `{1,}`

?

匹配前面一个表达式 0 次或者 1 次。等价于`{0,1}`

.

默认匹配除换行符之外的任何单个字符

x(?=y)

匹配'x'仅仅当'x'后面跟着'y'。这种叫做先行断言

(?<=y)x

匹配'x'仅当'x'前面是'y'.这种叫做后行断言

x(?!y)

仅仅当'x'后面不跟着'y'时匹配'x'，这被称为正向否定查找

(?<!_y_)_x_

仅仅当'x'前面不是'y'时匹配'x'，这被称为反向否定查找

x|y

匹配‘x’或者‘y’

{n}

n 是一个正整数，匹配了前面一个字符刚好出现了 n 次

{n,}

n 是一个正整数，匹配前一个字符至少出现了 n 次

{n,m}

n 和 m 都是整数。匹配前面的字符至少 n 次，最多 m 次

\[xyz\]

一个字符集合。匹配方括号中的任意字符

\[^xyz\]

匹配任何没有包含在方括号中的字符

\\b

匹配一个词的边界，例如在字母和空格之间

\\B

匹配一个非单词边界

\\d

匹配一个数字

\\D

匹配一个非数字字符

\\f

匹配一个换页符

\\n

匹配一个换行符

\\r

匹配一个回车符

\\s

匹配一个空白字符，包括空格、制表符、换页符和换行符

\\S

匹配一个非空白字符

\\w

匹配一个单字字符（字母、数字或者下划线）

\\W

匹配一个非单字字符

### 正则表达式标记

标志

描述

`g`

全局搜索。

`i`

不区分大小写搜索。

`m`

多行搜索。

`s`

允许 `.` 匹配换行符。

`u`

使用`unicode`码的模式进行匹配。

`y`

执行“粘性(`sticky`)”搜索,匹配从目标字符串的当前位置开始。

使用方法如下：

```typescript
undefined;
```

在了解下正则表达式基本的之外，还可以掌握几个正则表达式的特性：

### 贪婪模式

在了解贪婪模式前，首先举个例子：

```typescript
undefined;
```

在匹配过程中，尝试可能的顺序是从多往少的方向去尝试。首先会尝试`bbb`，然后再看整个正则是否能匹配。不能匹配时，吐出一个`b`，即在`bb`的基础上，再继续尝试，以此重复

如果多个贪婪量词挨着，则深度优先搜索

```typescript
undefined;
```

其中，前面的`\d{1,3}`匹配的是"123"，后面的`\d{1,3}`匹配的是"45"

### 懒惰模式

惰性量词就是在贪婪量词后面加个问号。表示尽可能少的匹配

```typescript
undefined;
```

其中`\d{1,3}?`只匹配到一个字符"1"，而后面的`\d{1,3}`匹配了"234"

### 分组

分组主要是用过`()`进行实现，比如`beyond{3}`，是匹配`d`字母 3 次。而`(beyond){3}`是匹配`beyond`三次

在`()`内使用`|`达到或的效果，如`(abc | xxx)`可以匹配`abc`或者`xxx`

反向引用，巧用`$`分组捕获

```typescript
undefined;
```

## 三、匹配方法

正则表达式常被用于某些方法，我们可以分成两类：

- 字符串（str）方法：`match`、`matchAll`、`search`、`replace`、`split`
- 正则对象下（regexp）的方法：`test`、`exec`

方法

描述

exec

一个在字符串中执行查找匹配的 RegExp 方法，它返回一个数组（未匹配到则返回 null）。

test

一个在字符串中测试是否匹配的 RegExp 方法，它返回 true 或 false。

match

一个在字符串中执行查找匹配的 String 方法，它返回一个数组，在未匹配到时会返回 null。

matchAll

一个在字符串中执行查找所有匹配的 String 方法，它返回一个迭代器（iterator）。

search

一个在字符串中测试匹配的 String 方法，它返回匹配到的位置索引，或者在失败时返回-1。

replace

一个在字符串中执行查找匹配的 String 方法，并且使用替换字符串替换掉匹配到的子字符串。

split

一个使用正则表达式或者一个固定字符串分隔一个字符串，并将分隔后的子字符串存储到数组中的 `String` 方法。

### str.match(regexp)

`str.match(regexp)` 方法在字符串 `str` 中找到匹配 `regexp` 的字符

如果 `regexp` 不带有 `g` 标记，则它以数组的形式返回第一个匹配项，其中包含分组和属性 `index`（匹配项的位置）、`input`（输入字符串，等于 `str`）

```typescript
undefined;
```

如果 `regexp` 带有 `g` 标记，则它将所有匹配项的数组作为字符串返回，而不包含分组和其他详细信息

```typescript
undefined;
```

如果没有匹配项，则无论是否带有标记 `g` ，都将返回 `null`

```typescript
undefined;
```

### str.matchAll(regexp)

返回一个包含所有匹配正则表达式的结果及分组捕获组的迭代器

```typescript
undefined;
```

### str.search(regexp)

返回第一个匹配项的位置，如果未找到，则返回 `-1`

```typescript
undefined;
```

这里需要注意的是，`search` 仅查找第一个匹配项

## str.replace(regexp)

替换与正则表达式匹配的子串，并返回替换后的字符串。在不设置全局匹配`g`的时候，只替换第一个匹配成功的字符串片段

```typescript
undefined;
```

### str.split(regexp)

使用正则表达式（或子字符串）作为分隔符来分割字符串

```typescript
undefined;
```

### regexp.exec(str)

`regexp.exec(str)` 方法返回字符串 `str` 中的 `regexp` 匹配项，与以前的方法不同，它是在正则表达式而不是字符串上调用的

根据正则表达式是否带有标志 `g`，它的行为有所不同

如果没有 `g`，那么 `regexp.exec(str)` 返回的第一个匹配与 `str.match(regexp)` 完全相同

如果有标记 `g`，调用 `regexp.exec(str)` 会返回第一个匹配项，并将紧随其后的位置保存在属性`regexp.lastIndex` 中。 下一次同样的调用会从位置 `regexp.lastIndex` 开始搜索，返回下一个匹配项，并将其后的位置保存在 `regexp.lastIndex` 中

```typescript
undefined;
```

### regexp.test(str)

查找匹配项，然后返回 `true/false` 表示是否存在

```typescript
undefined;
```

## 四、应用场景

通过上面的学习，我们对正则表达式有了一定的了解

下面再来看看正则表达式一些案例场景：

验证 QQ 合法性（5~15 位、全是数字、不以 0 开头）：

```typescript
undefined;
```

校验用户账号合法性（只能输入 5-20 个以字母开头、可带数字、“\_”、“.”的字串）：

```typescript
undefined;
```

将`url`参数解析为对象

```typescript
undefined;
```

再将上面的`search`和`hash`进行解析

```typescript
undefined;
```
