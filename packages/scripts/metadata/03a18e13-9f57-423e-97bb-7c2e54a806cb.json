{
  "data": {
    "id": 1735,
    "exerciseKey": "03a18e13-9f57-423e-97bb-7c2e54a806cb",
    "category": "QA",
    "renderType": "md",
    "title": "为什么推荐将静态资源放到cdn上？",
    "desc": null,
    "options": null,
    "explanation": "## 静态资源是什么\n\n### 静态资源\n\n静态资源是指在不同请求中访问到的数据都相同的静态文件。例如：图片、视频、网站中的文件（html、css、js）、软件安装包、apk文件、压缩包文件等。\n\n### 动态资源\n动态资源是指在不同请求中访问到的数据不相同的动态内容。例如：网站中的文件（asp、jsp、php、perl、cgi）、API接口、数据库交互请求等。\n\n## CDN是什么\n内容分发网络，Content Delivery Network或Content Ddistribute Network，简称CDN，是建立并覆盖在承载网之上，由分布在不同区域的边缘节点服务器群组成的分布式网络。\n\n**CDN加速的本质是缓存加速**。将服务器上存储的静态内容缓存在CDN节点上，当访问这些静态内容时，无需访问服务器源站，就近访问CDN节点即可获取相同内容，从而达到加速的效果，同时减轻服务器源站的压力。\n\nCDN应用广泛，解决因分布、带宽、服务器性能带来的访问延迟问题，适用于站点加速、点播、直播等场景。使用户可就近取得所需内容，解决 Internet网络拥挤的状况，提高用户访问网站的响应速度和成功率。\n\n\n由于访问动态内容时，每次都需要访问服务器，由服务器动态生成实时的数据并返回。因此CDN的缓存加速不适用于加速动态内容，CDN无法缓存实时变化的动态内容。对于动态内容请求，CDN节点只能转发回服务器源站，没有加速效果。\n\n## CDN的作用\n\n**1. 加速网站的访问**\n\n**2. 为了实现跨运营商、跨地域的全网覆盖**\n\n互联不互通、区域ISP地域局限、出口带宽受限制等种种因素都造成了网站的区域性无法访问。CDN加速可以覆盖全球的线路，通过和运营商合作，部署IDC资源，在全国骨干节点商，合理部署CDN边缘分发存储节点，充分利用带宽资源，平衡源站流量。\n\n**3. 为了保障你的网站安全**\n\nCDN的负载均衡和分布式存储技术，可以加强网站的可靠性，相当无无形中给你的网站添加了一把保护伞，应对绝大部分的互联网攻击事件。防攻击系统也能避免网站遭到恶意攻击。\n\n**4. 为了异地备援**\n\n当某个服务器发生意外故障时，系统将会调用其他临近的健康服务器节点进行服务，进而提供接近100%的可靠性，这就让你的网站可以做到永不宕机。\n\n**5. 为了节约成本投入**\n\n使用CDN加速可以实现网站的全国铺设，你根据不用考虑购买服务器与后续的托管运维，服务器之间镜像同步，也不用为了管理维护技术人员而烦恼，节省了人力、精力和财力。\n\n**6. 为了让你更专注业务本身**\n\nCDN加速厂商一般都会提供一站式服务，业务不仅限于CDN，还有配套的云存储、大数据服务、视频云服务等，而且一般会提供7x24运维监控支持，保证网络随时畅通，你可以放心使用。并且将更多的精力投入到发展自身的核心业务之上。\n\n\n\n## CDN工作原理\n![image.png](https://static.ecool.fun//article/3ef78fa9-9943-4a9b-ae50-477ffff73b56.jpeg)\n\n* 当用户点击网站页面上的内容URL，经过本地DNS系统解析，DNS系统会最终将域名的解析权交给CNAME指向的CDN专用DNS服务器。\n* CDN的DNS服务器将CDN的全局负载均衡设备IP地址返回用户。\n* 用户向CDN的全局负载均衡设备发起内容URL访问请求。\n* CDN全局负载均衡设备根据用户IP地址，以及用户请求的内容URL，选择一台用户所属区域的区域负载均衡设备，告诉用户向这台设备发起请求。\n* 区域负载均衡设备会为用户选择一台合适的缓存服务器提供服务，选择的依据包括：根据用户IP地址，判断哪一台服务器距用户最近；根据用户所请求的URL中携带的内容名称，判断哪一台服务器上有用户所需内容；查询各个服务器当前的负载情况，判断哪一台服务器尚有服务能力。基于以上这些条件的综合分析之后，区域负载均衡设备会向全局负载均衡设备返回一台缓存服务器的IP地址。\n* 全局负载均衡设备把服务器的IP地址返回给用户。\n* 用户向缓存服务器发起请求，缓存服务器响应用户请求，将用户所需内容传送到用户终端。如果这台缓存服务器上并没有用户想要的内容，而区域均衡设备依然将它分配给了用户，那么这台服务器就要向它的上一级缓存服务器请求内容，直至追溯到网站的源服务器将内容拉到本地。\n\nDNS服务器根据用户IP地址，将域名解析成相应节点的缓存服务器IP地址，实现用户就近访问。使用CDN服务的网站，只需将其域名解析权交给CDN的GSLB设备，将需要分发的内容注入CDN，就可以实现内容加速了。\n\n## 当没有CDN时\n\n今天我们看到的网站系统基本上都是基于B/S架构的。B/S架构，即Browser-Server（浏览器 服务器）架构。\n\n用户通过浏览器等方式访问网站的过程：\n\n* 用户在自己的浏览器中输入要访问的网站域名。\n* 浏览器向本地DNS服务器请求对该域名的解析。\n* 本地DNS服务器中如果缓存有这个域名的解析结果，则直接响应用户的解析请求。\n* 本地DNS服务器中如果没有关于这个域名的解析结果的缓存，则以递归方式向整个DNS系统请求解析，获得应答后将结果反馈给浏览器。\n* 浏览器得到域名解析结果，就是该域名相应的服务设备的IP地址。\n* 浏览器向服务器请求内容。\n* 服务器将用户请求内容传送给浏览器。",
    "pivot": "",
    "vipLimit": 0,
    "level": 2,
    "appId": 7,
    "createAt": "2022-04-05T08:56:10.000Z",
    "updateAt": "2024-08-10T17:06:26.000Z",
    "isCollected": false,
    "currentIndex": 646,
    "filterTotalNum": 1487,
    "prev": "87f39c64-2eb7-497f-b78a-4a84decd642d",
    "next": "1f131907-c40f-485b-8ff1-67e7091fed68"
  },
  "post": {
    "exerciseKey": "03a18e13-9f57-423e-97bb-7c2e54a806cb",
    "category": "QA",
    "title": "为什么推荐将静态资源放到cdn上？",
    "level": 2,
    "createAt": "2022-04-05T08:56:10+00:00",
    "updateAt": "2024-08-10T17:06:26+00:00"
  },
  "tag": {
    "id": 16,
    "tagName": "计算机网络",
    "type": "1",
    "exerciseCount": 95
  }
}