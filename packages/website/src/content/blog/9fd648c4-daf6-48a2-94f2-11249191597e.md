---
title: vue3 相比较于 vue2，在编译阶段有哪些改进？
pubDatetime: 2024-08-20T12:09:49.000Z
author: caorushizi
tags:
  - Vue.js
postSlug: 9fd648c4-daf6-48a2-94f2-11249191597e
description: >-
  以下是一些主要的改进： 1. 虚拟 DOM 的优化 Proxy 代理：Vue 3 使用 Proxy 对象来实现响应式系统，而 Vue 2 使用
  Object.defineProperty。Proxy 提供了更灵活和高效的方式来追踪对象的变化。 静态节点提升：Vue 3
  在编译阶段对静态节点进行了优化，将其提升到静态节点，以减少重复渲染。 2. 编译器的改进 更小的编译器体积：Vue 3 的编译器经
difficulty: 3.5
questionNumber: 2508
source: https://fe.ecool.fun/topic/9fd648c4-daf6-48a2-94f2-11249191597e
---

以下是一些主要的改进：

### 1. **虚拟 DOM 的优化**

- **Proxy 代理**：Vue 3 使用 `Proxy` 对象来实现响应式系统，而 Vue 2 使用 `Object.defineProperty`。`Proxy` 提供了更灵活和高效的方式来追踪对象的变化。
- **静态节点提升**：Vue 3 在编译阶段对静态节点进行了优化，将其提升到静态节点，以减少重复渲染。

### 2. **编译器的改进**

- **更小的编译器体积**：Vue 3 的编译器经过了重构，减少了体积，并且更快。
- **更高效的编译策略**：使用了更高效的编译策略和优化手段，生成的渲染函数代码更简洁。

### 3. **模板编译**

- **新的编译器**：Vue 3 引入了新的模板编译器，与 Vue 2 相比，编译后的代码更加高效，生成的虚拟 DOM 更简洁。
- **编译时优化**：Vue 3 的编译器能够识别和优化模板中的常见模式，比如静态节点提升，减少不必要的重新渲染。

### 4. **响应式系统的改进**

- **基于 Proxy 的响应式系统**：Vue 3 的响应式系统基于 `Proxy` 实现，比 Vue 2 使用的 `Object.defineProperty` 更高效，支持更广泛的对象操作，并且不需要 `Object.defineProperty` 的限制。
- **更快的依赖追踪**：`Proxy` 能够更高效地追踪依赖关系，减少了性能开销。

### 5. **编译时类型检查**

- **TypeScript 支持**：Vue 3 从设计之初就考虑了对 TypeScript 的支持，编译器和核心库的类型定义更加完善，提升了开发时的类型检查和 IDE 支持。

### 6. **组件的改进**

- **更强大的组件编译**：Vue 3 对组件的编译做了大量的优化，使得组件在运行时更高效。
- **编译时的插件支持**：Vue 3 支持更多的编译时插件，能够在构建过程中处理组件的特定需求。

### 7. **编译时常量折叠**

- **常量折叠**：编译器会对模板中的常量进行折叠优化，减少运行时的计算开销。

### 8. **更简洁的代码生成**

- **优化的代码生成**：Vue 3 编译器生成的代码比 Vue 2 更简洁，减少了冗余的代码，提高了执行效率。
