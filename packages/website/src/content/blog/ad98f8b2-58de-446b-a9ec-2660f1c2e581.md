---
title: 为什么 SPA 应用都会提供一个 hash 路由，好处是什么？
pubDatetime: 2024-09-02T01:28:41.000Z
author: caorushizi
tags:
  - 工程化
postSlug: ad98f8b2-58de-446b-a9ec-2660f1c2e581
description: >-
  单页应用（SPA）提供 hash 路由的原因主要涉及到历史记录管理和页面状态的保存。 以下是使用 hash 路由的优点： **1. 浏览器兼容性
  历史记录支持：Hash 路由利用 URL 中的
  #（哈希标记）来管理页面状态。这种方法在所有现代浏览器中都得到支持，即使是在旧版浏览器中也能正常工作，因为哈希部分不会引发浏览器的页面重新加载。 **2.
  无需服务器配置 避免服务器配置问题：Hash 路由
difficulty: 2.5
questionNumber: 2417
source: https://fe.ecool.fun/topic/ad98f8b2-58de-446b-a9ec-2660f1c2e581
---

单页应用（SPA）提供 hash 路由的原因主要涉及到历史记录管理和页面状态的保存。

以下是使用 hash 路由的优点：

### **1. **浏览器兼容性\*\*

- **历史记录支持**：Hash 路由利用 URL 中的 `#`（哈希标记）来管理页面状态。这种方法在所有现代浏览器中都得到支持，即使是在旧版浏览器中也能正常工作，因为哈希部分不会引发浏览器的页面重新加载。

### **2. **无需服务器配置\*\*

- **避免服务器配置问题**：Hash 路由不会发送 HTTP 请求到服务器，只是在客户端进行路由解析，因此不需要额外配置服务器来处理路由。这减少了服务器的复杂性，并避免了在服务器端处理路由相关的配置。

### **3. **页面状态管理\*\*

- **维护状态**：Hash 路由允许在 URL 中嵌入应用状态信息，使得页面在刷新或重新加载时可以恢复到之前的状态。例如，`/page#section` 可以表示应用的不同部分，用户刷新页面时，应用会自动跳转到对应的状态或部分。

### **4. **前进和后退功能\*\*

- **浏览器导航**：使用 hash 路由时，浏览器的前进和后退按钮能够正常工作，用户可以在不同的状态之间进行导航，而不需要页面重新加载。这提供了更好的用户体验和页面流畅性。

### **5. **简化 URL 管理\*\*

- **简化 URL 管理**：通过 hash 路由可以简单地在 URL 中存储状态，而不需要处理复杂的 URL 解析和服务器端重定向。这使得应用程序在开发过程中更容易管理和调试。

### 示例

- **Hash 路由的 URL 示例**：

  ```plaintext
  http://example.com/#/home
  http://example.com/#/profile/123
  ```

- **相应的 JavaScript 路由处理**：
  ```javascript
  window.addEventListener("hashchange", function () {
    const hash = window.location.hash;
    // 根据 hash 值更新应用的视图或状态
  });
  ```
