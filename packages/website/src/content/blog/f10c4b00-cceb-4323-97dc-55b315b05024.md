---
title: æˆ‘ä»¬åº”è¯¥åœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ä½¿ç”¨  useMemo å’Œ useCallback ï¼Ÿ
pubDatetime: 2023-12-18T21:02:02.000Z
author: caorushizi
tags:
  - React.js
postSlug: f10c4b00-cceb-4323-97dc-55b315b05024
description: >-
  å‰è¨€ useMemo å’Œ useCallback æ˜¯ React çš„å†…ç½®
  Hookï¼Œé€šå¸¸ä½œä¸ºä¼˜åŒ–æ€§èƒ½çš„æ‰‹æ®µè¢«ä½¿ç”¨ã€‚ä»–ä»¬å¯ä»¥ç”¨æ¥ç¼“å­˜å‡½æ•°ã€ç»„ä»¶ã€å˜é‡ï¼Œä»¥é¿å…ä¸¤æ¬¡æ¸²æŸ“é—´çš„é‡å¤è®¡ç®—ã€‚ä½†æ˜¯å®è·µè¿‡ç¨‹ä¸­ï¼Œä»–ä»¬ç»å¸¸è¢«è¿‡åº¦ä½¿ç”¨ï¼šæ‹…å¿ƒæ€§èƒ½çš„å¼€å‘è€…ç»™æ¯ä¸ªç»„ä»¶ã€å‡½æ•°ã€å˜é‡ã€è®¡ç®—è¿‡ç¨‹éƒ½å¥—ä¸Šäº†
  memoï¼Œä»¥è‡³äºå®ƒä»¬åœ¨ä»£ç é‡Œå¥½åƒå¤±æ§äº†ä¸€æ ·ï¼Œæ— å¤„ä¸åœ¨ã€‚ æœ¬æ–‡å¸Œæœ›é€šè¿‡åˆ†æ useMemo/useCallback çš„ç›®çš„ã€æ–¹å¼ã€æˆ
difficulty: 3
questionNumber: 1894
source: https://fe.ecool.fun/topic/f10c4b00-cceb-4323-97dc-55b315b05024
---

## å‰è¨€

useMemo å’Œ useCallback æ˜¯ React çš„å†…ç½® Hookï¼Œé€šå¸¸ä½œä¸ºä¼˜åŒ–æ€§èƒ½çš„æ‰‹æ®µè¢«ä½¿ç”¨ã€‚ä»–ä»¬å¯ä»¥ç”¨æ¥ç¼“å­˜å‡½æ•°ã€ç»„ä»¶ã€å˜é‡ï¼Œä»¥é¿å…ä¸¤æ¬¡æ¸²æŸ“é—´çš„é‡å¤è®¡ç®—ã€‚ä½†æ˜¯å®è·µè¿‡ç¨‹ä¸­ï¼Œä»–ä»¬ç»å¸¸è¢«è¿‡åº¦ä½¿ç”¨ï¼šæ‹…å¿ƒæ€§èƒ½çš„å¼€å‘è€…ç»™æ¯ä¸ªç»„ä»¶ã€å‡½æ•°ã€å˜é‡ã€è®¡ç®—è¿‡ç¨‹éƒ½å¥—ä¸Šäº† memoï¼Œä»¥è‡³äºå®ƒä»¬åœ¨ä»£ç é‡Œå¥½åƒå¤±æ§äº†ä¸€æ ·ï¼Œæ— å¤„ä¸åœ¨ã€‚

æœ¬æ–‡å¸Œæœ›é€šè¿‡åˆ†æ useMemo/useCallback çš„ç›®çš„ã€æ–¹å¼ã€æˆæœ¬ï¼Œä»¥åŠå…·ä½“ä½¿ç”¨åœºæ™¯ï¼Œå¸®åŠ©å¼€å‘è€…æ­£ç¡®çš„å†³å®šå¦‚ä½•é€‚æ—¶çš„ä½¿ç”¨ä»–ä»¬ã€‚èµ¶æ—¶é—´çš„è¯»è€…å¯ä»¥ç›´æ¥æ‹‰åˆ°åº•éƒ¨çœ‹ç»“è®ºã€‚

æˆ‘ä»¬å…ˆä» useMemo/useCallback çš„ç›®çš„è¯´èµ·ã€‚

## ä¸ºä»€ä¹ˆä½¿ç”¨ useMemo å’Œ useCallback

ä½¿ç”¨ memo é€šå¸¸æœ‰ä¸‰ä¸ªåŸå› ï¼š

1. âœ… é˜²æ­¢ä¸å¿…è¦çš„ effectã€‚
2. â—ï¸é˜²æ­¢ä¸å¿…è¦çš„ re-renderã€‚
3. â—ï¸é˜²æ­¢ä¸å¿…è¦çš„é‡å¤è®¡ç®—ã€‚

åä¸¤ç§ä¼˜åŒ–å¾€å¾€è¢«è¯¯ç”¨ï¼Œå¯¼è‡´å‡ºç°å¤§é‡çš„æ— æ•ˆä¼˜åŒ–æˆ–å†—ä½™ä¼˜åŒ–ã€‚ä¸‹é¢è¯¦ç»†ä»‹ç»è¿™ä¸‰ä¸ªä¼˜åŒ–æ–¹å¼ã€‚

### é˜²æ­¢ä¸å¿…è¦çš„ effect

å¦‚æœä¸€ä¸ªå€¼è¢« useEffect ä¾èµ–ï¼Œé‚£å®ƒå¯èƒ½éœ€è¦è¢«ç¼“å­˜ï¼Œè¿™æ ·å¯ä»¥é¿å…é‡å¤æ‰§è¡Œ effectã€‚

```js
const Component = () => {
  // åœ¨ re-renders ä¹‹é—´ç¼“å­˜ a çš„å¼•ç”¨
  const a = useMemo(() => ({ test: 1 }), []);

  useEffect(() => {
    // åªæœ‰å½“ a çš„å€¼å˜åŒ–æ—¶ï¼Œè¿™é‡Œæ‰ä¼šè¢«è§¦å‘
    doSomething();
  }, [a]);

  // the rest of the code
};
```

useCallback åŒç†ï¼š

```js
const Component = () => {
  // åœ¨ re-renders ä¹‹é—´ç¼“å­˜ fetch å‡½æ•°
  const fetch = useCallback(() => {
    console.log('fetch some data here');
  }, []);

  useEffect(() => {
    // ä»…fetchå‡½æ•°çš„å€¼è¢«æ”¹å˜æ—¶ï¼Œè¿™é‡Œæ‰ä¼šè¢«è§¦å‘
    fetch();
  }, [fetch]);

  // the rest of the code

};
```

å½“å˜é‡ç›´æ¥æˆ–è€…é€šè¿‡ä¾èµ–é“¾æˆä¸º useEffect çš„ä¾èµ–é¡¹æ—¶ï¼Œé‚£å®ƒå¯èƒ½éœ€è¦è¢«ç¼“å­˜ã€‚è¿™æ˜¯ useMemo å’Œ useCallback æœ€åŸºæœ¬çš„ç”¨æ³•ã€‚

### é˜²æ­¢ä¸å¿…è¦çš„ re-render

è¿›å…¥é‡ç‚¹ç¯èŠ‚äº†ğŸ””ã€‚æ­£ç¡®çš„é˜»æ­¢ re-render éœ€è¦æˆ‘ä»¬æ˜ç¡®ä¸‰ä¸ªé—®é¢˜ï¼š

1. ç»„ä»¶ä»€ä¹ˆæ—¶å€™ä¼š re-renderã€‚
2. å¦‚ä½•é˜²æ­¢å­ç»„ä»¶ re-renderã€‚
3. å¦‚ä½•åˆ¤æ–­å­ç»„ä»¶éœ€è¦ç¼“å­˜ã€‚

#### 1\. ç»„ä»¶ä»€ä¹ˆæ—¶å€™ä¼š re-render

ä¸‰ç§æƒ…å†µï¼š

1. å½“æœ¬èº«çš„ props æˆ– state æ”¹å˜æ—¶ã€‚
2. Context value æ”¹å˜æ—¶ï¼Œä½¿ç”¨è¯¥å€¼çš„ç»„ä»¶ä¼š re-renderã€‚
3. å½“çˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶ï¼Œå®ƒæ‰€æœ‰çš„å­ç»„ä»¶éƒ½ä¼š re-renderï¼Œå½¢æˆä¸€æ¡ re-render é“¾ã€‚

ç¬¬ä¸‰ä¸ª re-render æ—¶æœºç»å¸¸è¢«å¼€å‘è€…å¿½è§†ï¼Œ**å¯¼è‡´ä»£ç ä¸­å­˜åœ¨å¤§é‡çš„æ— æ•ˆç¼“å­˜**ã€‚

ä¾‹å¦‚ï¼š

```js
const App = () => {
  const [state, setState] = useState(1);

  const onClick = useCallback(() => {
    console.log('Do something on click');
  }, []);

  return (
	// æ— è®º onClick æ˜¯å¦è¢«ç¼“å­˜ï¼ŒPage éƒ½ä¼š re-render 
    <Page onClick={onClick} />
  );
};
```

å½“ä½¿ç”¨ setState æ”¹å˜ state æ—¶ï¼ŒApp ä¼š re-renderï¼Œä½œä¸ºå­ç»„ä»¶çš„ Page ä¹Ÿä¼šè·Ÿç€ re-renderã€‚è¿™é‡Œ useCallback æ˜¯å®Œå…¨æ— æ•ˆçš„ï¼Œå®ƒå¹¶ä¸èƒ½é˜»æ­¢ Page çš„ re-renderã€‚

#### 2\. å¦‚ä½•é˜²æ­¢å­ç»„ä»¶ re-render

**å¿…é¡»åŒæ—¶ç¼“å­˜ onClick å’Œç»„ä»¶æœ¬èº«ï¼Œæ‰èƒ½å®ç° Page ä¸è§¦å‘ re-renderã€‚**

```js
const PageMemoized = React.memo(Page);

const App = () => {
  const [state, setState] = useState(1);

  const onClick = useCallback(() => {
    console.log('Do something on click');
  }, []);

  return (
    // Page å’Œ onClick åŒæ—¶ memorize
    <PageMemoized onClick={onClick} />
  );
};
```

ç”±äºä½¿ç”¨äº†React.memoï¼ŒPageMemoized ä¼šæµ…æ¯”è¾ƒ props çš„å˜åŒ–åå†å†³å®šæ˜¯å¦ re-renderã€‚onClick è¢«ç¼“å­˜åä¸ä¼šå†å˜åŒ–ï¼Œæ‰€ä»¥ PageMemoized ä¸å† re-renderã€‚

ç„¶è€Œï¼Œå¦‚æœ PageMemoized å†æ·»åŠ ä¸€ä¸ªæœªè¢«ç¼“å­˜çš„ propsï¼Œä¸€åˆ‡å°±å‰åŠŸå°½å¼ƒ ğŸ¤¯ ï¼š

```js
const PageMemoized = React.memo(Page);

const App = () => {
  const [state, setState] = useState(1);

  const onClick = useCallback(() => {
    console.log('Do something on click');
  }, []);

  return (
    // page WILL re-render because value is not memoized
    <PageMemoized onClick={onClick} value={[1, 2, 3]} />
  );
};
```

ç”±äº value ä¼šéšç€ App çš„ re-render é‡æ–°å®šä¹‰ï¼Œå¼•ç”¨å€¼å‘ç”Ÿå˜åŒ–ï¼Œå¯¼è‡´ PageMemoized ä»ç„¶ä¼šè§¦å‘ re-renderã€‚

ç°åœ¨å¯ä»¥å¾—å‡ºç»“è®ºäº†ï¼Œå¿…é¡»åŒæ—¶æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶ï¼Œå­ç»„ä»¶æ‰ä¸ä¼š re-renderï¼š

1. å­ç»„ä»¶è‡ªèº«è¢«ç¼“å­˜ã€‚
2. å­ç»„ä»¶æ‰€æœ‰çš„ prop éƒ½è¢«ç¼“å­˜ã€‚

#### 3\. å¦‚ä½•åˆ¤æ–­å­ç»„ä»¶éœ€è¦ç¼“å­˜

æˆ‘ä»¬å·²ç»äº†è§£ï¼Œä¸ºäº†é˜²æ­¢å­ç»„ä»¶ re-renderï¼Œéœ€è¦ä»¥ä¸‹æˆæœ¬ï¼š

1. **å¼€å‘è€…å·¥ä½œé‡çš„å¢åŠ **ï¼š ä¸€æ—¦ä½¿ç”¨ç¼“å­˜ï¼Œå°±å¿…é¡»ä¿è¯ç»„ä»¶æœ¬èº«ä»¥åŠæ‰€æœ‰ props éƒ½ç¼“å­˜ï¼Œåç»­æ·»åŠ çš„æ‰€æœ‰ props éƒ½è¦ç¼“å­˜ã€‚
2. **ä»£ç å¤æ‚åº¦å’Œå¯è¯»æ€§çš„å˜åŒ–**ï¼šä»£ç ä¸­å‡ºç°å¤§é‡ç¼“å­˜å‡½æ•°ï¼Œè¿™ä¼šå¢åŠ ä»£ç å¤æ‚åº¦ï¼Œå¹¶é™ä½æ˜“è¯»æ€§ã€‚

é™¤æ­¤ä¹‹å¤–è¿˜æœ‰å¦å¤–ä¸€ä¸ªæˆæœ¬ï¼š**æ€§èƒ½æˆæœ¬**ã€‚ ç»„ä»¶çš„ç¼“å­˜æ˜¯åœ¨åˆå§‹åŒ–æ—¶è¿›è¡Œï¼Œè™½ç„¶æ¯ä¸ªç»„ä»¶ç¼“å­˜çš„æ€§èƒ½è€—è´¹å¾ˆä½ï¼Œé€šå¸¸ä¸è¶³1msï¼Œä½†å¤§å‹ç¨‹åºé‡Œæˆç™¾ä¸Šåƒçš„ç»„ä»¶å¦‚æœåŒæ—¶åˆå§‹åŒ–ç¼“å­˜ï¼Œæˆæœ¬å¯èƒ½ä¼šå˜å¾—å¾ˆå¯è§‚ã€‚

æ‰€ä»¥å±€éƒ¨ä½¿ç”¨ memoï¼Œæ¯”å…¨å±€ä½¿ç”¨æ˜¾çš„æ›´ä¼˜é›…ã€æ€§èƒ½æ›´å¥½ï¼Œåå¤„æ˜¯éœ€è¦å¼€å‘è€…ä¸»åŠ¨å»åˆ¤æ–­æ˜¯å¦éœ€è¦ç¼“å­˜è¯¥å­ç»„ä»¶ã€‚

ğŸ¤¨ é‚£åº”è¯¥ä»€ä¹ˆæ—¶å€™ç¼“å­˜ç»„ä»¶ï¼Œæ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªç»„ä»¶çš„æ¸²æŸ“æ˜¯æ˜‚è´µçš„ï¼Ÿ

å¾ˆé—æ†¾ï¼Œä¼¼ä¹æ²¡æœ‰ä¸€ä¸ªç®€å•&æ— ä¾µå…¥&è‡ªåŠ¨çš„è¡¡é‡æ–¹å¼ã€‚é€šå¸¸æ¥è¯´æœ‰ä¸¤ä¸ªæ–¹å¼ï¼š

1. äººè‚‰åˆ¤æ–­ï¼Œå¼€å‘æˆ–è€…æµ‹è¯•äººå‘˜åœ¨ç ”å‘è¿‡ç¨‹ä¸­æ„ŸçŸ¥åˆ°æ¸²æŸ“æ€§èƒ½é—®é¢˜ï¼Œå¹¶è¿›è¡Œåˆ¤æ–­ã€‚
2. é€šè¿‡å·¥å…·ï¼Œç›®å‰æœ‰ä¸€äº›å·¥å…·ååŠ©å¼€å‘è€…åœ¨æŸ¥çœ‹ç»„ä»¶æ€§èƒ½:  
   1. å¦‚ [React Dev Tools Profiler](https://zh-hans.reactjs.org/blog/2018/09/10/introducing-the-react-profiler.html)ï¼Œ[è¿™ç¯‡æ–‡ç« ](https://medium.com/@ashr81/react-performance-code-changes-part-i-fc8f2fddb37)ä»‹ç»äº†ä½¿ç”¨æ–¹å¼  
   2. å¦‚è¿™ä¸ª hooksï¼š[useRenderTimes](https://ecomfe.github.io/react-hooks/#/hook/debug/use-render-times)

å¦å¤–ï¼ŒReact åœ¨ 16.5ç‰ˆæœ¬åæä¾›äº† [Profiler API](https://reactjs.org/docs/profiler.html)ï¼š_å®ƒå¯ä»¥è¯†åˆ«å‡ºåº”ç”¨ä¸­æ¸²æŸ“è¾ƒæ…¢çš„éƒ¨åˆ†ï¼Œæˆ–æ˜¯å¯ä»¥ä½¿ç”¨ç±»ä¼¼ memoization ä¼˜åŒ–çš„éƒ¨åˆ†_ã€‚æ‰€ä»¥å¯ä»¥é€šè¿‡ puppeteer æˆ– cypress åœ¨è‡ªåŠ¨åŒ–é›†æˆä¸­æµ‹è¯•ç»„ä»¶æ€§èƒ½ï¼Œè¿™å¾ˆé€‚åˆæ ¸å¿ƒç»„ä»¶çš„æ€§èƒ½æµ‹è¯•ã€‚

### é˜²æ­¢ä¸å¿…è¦çš„é‡å¤è®¡ç®—

å¦‚ [React æ–‡æ¡£](https://zh-hans.reactjs.org/docs/hooks-reference.html#usememo)æ‰€è¯´ï¼ŒuseMemo çš„åŸºæœ¬ä½œç”¨æ˜¯ï¼Œé¿å…åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½è¿›è¡Œé«˜å¼€é”€çš„è®¡ç®—ã€‚

ğŸ¤¨ é‚£ä»€ä¹ˆæ˜¯â€œé«˜å¼€é”€çš„è®¡ç®—â€ï¼Ÿ

é«˜å¼€é”€çš„è®¡ç®—å…¶å®æå°‘å‡ºç°ï¼Œå¦‚ä¸‹ç¤ºä¾‹ï¼Œå¯¹åŒ…å« 250 ä¸ª item çš„æ•°ç»„ countries è¿›è¡Œæ’åºã€æ¸²æŸ“ï¼Œå¹¶è®¡ç®—è€—æ—¶ã€‚

```js
const List = ({ countries }) => {
  const before = performance.now();
  const sortedCountries = orderBy(countries, 'name', sort);
  // this is the number we're after
  const after = performance.now() - before;

  return (
    // same
  )
};
```

![image](https://static.ecool.fun//article/6f542a99-8ec2-4267-b67a-540fc3e627eb.jpeg)

ç»“æœå¦‚å›¾æ‰€ç¤ºï¼Œæ’åºè€—æ—¶ä»…ç”¨äº† 4 æ¯«ç§’ï¼Œè€Œæ¸²æŸ“å›¾ä¸­çš„ List ç»„ä»¶ï¼ˆä»…ä»…åªæ˜¯ button + æ–‡å­—ï¼‰å´ç”¨äº† 20 æ¯«ç§’ï¼Œ5å€çš„å·®è·ï¼Œä»£ç è¯¦è§ [codesandbox.](https://codesandbox.io/s/measure-without-memo-tnhggk?file=/src/page.tsx)ã€‚ å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„è®¡ç®—é‡è¦æ¯”è¿™ä¸ª 250 ä¸ª item çš„æ•°ç»„å°‘ï¼Œè€Œç»„ä»¶æ¸²æŸ“è¦æ¯”è¿™ä¸ª List ç»„ä»¶å¤æ‚çš„å¤šï¼Œæ‰€ä»¥çœŸå®ç¨‹åºä¸­ï¼Œè®¡ç®—å’Œæ¸²æŸ“çš„æ€§èƒ½å·®è·ä¼šæ›´å¤§ã€‚

å¯è§ï¼Œç»„ä»¶æ¸²æŸ“æ‰æ˜¯æ€§èƒ½çš„ç“¶é¢ˆï¼Œåº”è¯¥æŠŠ useMemo ç”¨åœ¨ç¨‹åºé‡Œæ¸²æŸ“æ˜‚è´µçš„ç»„ä»¶ä¸Šï¼Œè€Œä¸æ˜¯æ•°å€¼è®¡ç®—ä¸Šã€‚å½“ç„¶ï¼Œé™¤éè¿™ä¸ªè®¡ç®—çœŸçš„å¾ˆæ˜‚è´µï¼Œæ¯”å¦‚é˜¶ä¹˜è®¡ç®—ã€‚

è‡³äºä¸ºä»€ä¹ˆä¸ç»™æ‰€æœ‰çš„ç»„ä»¶éƒ½ä½¿ç”¨ useMemoï¼Œä¸Šæ–‡å·²ç»è§£é‡Šäº†ã€‚useMemo æ˜¯æœ‰æˆæœ¬çš„ï¼Œå®ƒä¼šå¢åŠ æ•´ä½“ç¨‹åºåˆå§‹åŒ–çš„è€—æ—¶ï¼Œå¹¶ä¸é€‚åˆå…¨å±€å…¨é¢ä½¿ç”¨ï¼Œå®ƒæ›´é€‚åˆåšå±€éƒ¨çš„ä¼˜åŒ–ã€‚

## ä¸ºä»€ä¹ˆ React æ²¡æœ‰æŠŠç¼“å­˜ç»„ä»¶ä½œä¸ºé»˜è®¤é…ç½®ï¼Ÿ

å…³äºè¿™ç‚¹ Dan Abramov åœ¨[æ¨æ–‡](https://twitter.com/dan_abramov/status/1083897065263034368)ä¸Šä¹Ÿç»™å‡ºäº†è§£é‡Šï¼ˆè™½ç„¶æ˜¯ä¸ªç±»æ¯” ğŸ˜…ï¼‰ï¼š![image](https://static.ecool.fun//article/f5fb8d3c-b958-47ca-8ef4-92ece2e90570.jpeg)

è¯„è®ºåŒºé‡Œ react çš„å¦ä¸€ä½æ ¸å¿ƒå¼€å‘è€… Christopher Chedeau ä¹Ÿå‚ä¸äº†[è®¨è®º](https://twitter.com/Vjeux/status/1083902075946205189)ã€‚ ç®€è€Œè¨€ä¹‹ï¼Œä»–ä»¬è®¤ä¸ºï¼š

1. ç¼“å­˜æ˜¯æœ‰æˆæœ¬çš„ï¼Œå°çš„æˆæœ¬å¯èƒ½ä¼šç´¯åŠ è¿‡é«˜ã€‚
2. é»˜è®¤ç¼“å­˜æ— æ³•ä¿è¯è¶³å¤Ÿçš„æ­£ç¡®æ€§ã€‚

> åŸå›  2 çš„åŸæ–‡ï¼šcorrectness is not guaranteed for everything because people can mutate things. Christopher Chedeau æœªç»™å‡ºè¿›ä¸€æ­¥è§£é‡Šã€‚æˆ–è®¸ä»–æ˜¯æŒ‡å¯èƒ½ä¼šå¯¼è‡´è·Ÿ [PureComponentç›¸åŒçš„é—®é¢˜](https://reactjs.org/docs/optimizing-performance.html#examples)ï¼Œå³æµ…æ¯”è¾ƒ mutate things æ—¶ï¼Œç”±äºæµ…æ¯”è¾ƒç›¸ç­‰ï¼Œå¯¼è‡´ç»„ä»¶æœªèƒ½ update çš„é—®é¢˜ã€‚

## ç»“è®º

è®²åˆ°è¿™é‡Œæˆ‘ä»¬å¯ä»¥æ€»ç»“å‡º useMemo/useCallback ä½¿ç”¨å‡†åˆ™äº†ï¼š

1. **å¤§éƒ¨åˆ†çš„ useMemo å’Œ useCallback éƒ½åº”è¯¥ç§»é™¤**ï¼Œä»–ä»¬å¯èƒ½æ²¡æœ‰å¸¦æ¥ä»»ä½•æ€§èƒ½ä¸Šçš„ä¼˜åŒ–ï¼Œåè€Œå¢åŠ äº†ç¨‹åºé¦–æ¬¡æ¸²æŸ“çš„è´Ÿæ‹…ï¼Œå¹¶å¢åŠ ç¨‹åºçš„å¤æ‚æ€§ã€‚
2. ä½¿ç”¨ useMemo å’Œ useCallback ä¼˜åŒ–å­ç»„ä»¶ re-render æ—¶ï¼Œ**å¿…é¡»åŒæ—¶æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ‰æœ‰æ•ˆ**ã€‚  
   1. å­ç»„ä»¶å·²é€šè¿‡ React.memo æˆ– useMemo è¢«ç¼“å­˜  
   2. å­ç»„ä»¶æ‰€æœ‰çš„ prop éƒ½è¢«ç¼“å­˜
3. **ä¸æ¨èé»˜è®¤ç»™æ‰€æœ‰ç»„ä»¶éƒ½ä½¿ç”¨ç¼“å­˜**ï¼Œå¤§é‡ç»„ä»¶åˆå§‹åŒ–æ—¶è¢«ç¼“å­˜ï¼Œå¯èƒ½å¯¼è‡´è¿‡å¤šçš„å†…å­˜æ¶ˆè€—ï¼Œå¹¶å½±å“ç¨‹åºåˆå§‹åŒ–æ¸²æŸ“çš„é€Ÿåº¦ã€‚

> å…³äºç¬¬ä¸‰ç‚¹æœ‰ç›¸åè§‚ç‚¹ï¼Œè¯¦è§ï¼š[Why We Memo All the Things](https://attardi.org/why-we-memo-all-the-things/?utm_source=ttalk.im&utm_medium=website&utm_campaign=Tech%2520Talk)ï¼Œä½œè€…æ¨èé»˜è®¤ç»™å…¨éƒ¨ç»„ä»¶éƒ½åŠ ä¸Š React.memoï¼Œå¹¶ç»™æ‰€æœ‰ props éƒ½å¥—ä¸Š useMemoã€‚ä»–è®¤ä¸ºè¿™æ ·å¯ä»¥é™ä½å·¥ç¨‹å¸ˆå¿ƒæ™ºè´Ÿæ‹…ï¼Œè®©å·¥ç¨‹å¸ˆä¸å¿…å†è‡ªå·±åˆ¤æ–­ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ memorizeã€‚
